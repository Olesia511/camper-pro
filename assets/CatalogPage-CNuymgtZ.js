import{j as e,r as d,a as L}from"./index-DAilsW_I.js";import{s as h,F as y}from"./StyledDatePicker-BHBxtisY.js";import{s as F,a as S,C as v}from"./CampersList-DOt7ITg_.js";import{F as R,L as w,a as B,b as W,c as E,d as $,E as x,C as V,e as O,f as N,g as T,h as q,i as A,R as G,j as D,k as K,l as P,V as z,m as H}from"./CampersFilter.styled-Clqt-trM.js";const J=()=>{function C(){const[i,g]=d.useState(""),[m,k]=d.useState([!0,!1,!1]),[p,b]=d.useState([!1,!1,!1,!1,!1]),u=L(F),r=[{icon:"icon-camper-1",name:"van",class:""},{icon:"icon-camper-2",name:"fully integrated",class:"fully-integrated"},{icon:"icon-camper-3",name:"alcove",class:""}],l=[{icon:"icon-wind",name:"AC",class:"",id:"airConditioner"},{icon:"icon-line-pd",name:"Automatic",class:"stroke",id:"transmission"},{icon:"icon-gastronomy",name:"Kitchen",class:"stroke",id:"kitchen"},{icon:"icon-tv",name:"TV",class:"stroke",id:"TV"},{icon:"icon-shower",name:"Shower/WC",class:"stroke",id:"shower"}],f=(a,s)=>{s?b(n=>{const t=[...n];return t[a]=!t[a],t}):k(n=>n.map((o,c)=>c===a))},I=a=>{const s={};return Object.entries(a).forEach(([n,t])=>{typeof t=="object"&&t!==null?Object.entries(t).forEach(([o,c])=>{s[o]=c}):s[n]=t}),console.log("flattenObject",s),s},j=a=>{a.preventDefault();let s=u;i!==""&&(s=u.filter(o=>o.location.toLowerCase().includes(i.toLocaleLowerCase())));const n=m.findIndex(o=>o);if(n!==-1){const o=r[n].name.toLocaleLowerCase();s=s.filter(c=>{if(S(c.form).toLocaleLowerCase()===o)return c})}const t=p.map((o,c)=>o?l[c].id:null).filter(Boolean);console.log("selectedCheckboxes",t),t.length>0&&(console.log("filteredItems chek",s),s=s.filter(o=>(console.log("15623156",o),I(o),t.every(c=>Object.keys(o).includes(c)),t.every(c=>o.details[c])))),console.log("Filtered by checkboxes:",s)};return e.jsx(e.Fragment,{children:e.jsx(R,{children:e.jsxs("form",{onSubmit:a=>j(a),children:[e.jsx(w,{children:"Location"}),e.jsxs(B,{children:[e.jsx(W,{children:e.jsx("use",{href:`${h}#icon-location`})}),e.jsx(E,{placeholder:"City",type:"text",onChange:a=>g(a.target.value),value:i})]}),e.jsx($,{children:"Filters"}),e.jsx(x,{children:"Vehicle equipment"}),e.jsx(V,{children:p.map((a,s)=>e.jsxs(O,{className:a?"checked":"",children:[e.jsx(N,{id:l[s].id,type:"checkbox",checked:a,onChange:()=>f(s,!0)}),e.jsxs(T,{children:[e.jsx(q,{className:l[s].class,children:e.jsx("use",{href:`${h}#${l[s].icon}`})}),e.jsx(A,{children:l[s].name})]})]},s))}),e.jsx(x,{children:"Vehicle type"}),e.jsxs(G,{children:[m.map((a,s)=>e.jsxs(D,{className:a?`${r[s].class} checked`:`${r[s].class}`,children:[e.jsx(K,{id:r[s].name,type:"radio",name:"radio",checked:a,onChange:()=>f(s,!1)}),e.jsxs(P,{children:[e.jsx(z,{children:e.jsx("use",{href:`${h}#${r[s].icon}`})}),e.jsx(H,{htmlFor:r[s].name,children:r[s].name})]})]},s)),e.jsx("div",{})]}),e.jsx(y,{type:"submit",onClick:j,children:"Send"})]})})})}return e.jsx(e.Fragment,{children:C()})};function Z(){return e.jsxs("div",{className:"flex-style",children:[e.jsx(J,{}),e.jsx(v,{catalog:"catalog"})]})}export{Z as default};
