import{b as R,r as x,j as e,c as M,a as w,o as pe,B as L,f as me,d as fe,e as ge,g as ve}from"./index-DAilsW_I.js";import{M as Ce,a as $e,b as ye,c as we,s as r,d as Se,r as Z,S as b,C as Fe,R as P,e as _,L as G,I as De,f as J,g as Q,D as Y,h as ke,i as H,V as Be,j as be,E as X,k as t,l as m,m as h,n as We,o as y,p as Re,q as Ee,t as Ve,u as Ae,v as Ie,w as Ne,x as Me,y as Te,z as Le,A as U,B as qe,G as ze,F as He,H as Ue,J as Ke,K as Oe,N as Ze,O as Pe,P as _e,Q as Ge,T as Je}from"./StyledDatePicker-BHBxtisY.js";const Qe=s=>s.campers.items,ee=s=>{var n;return(n=s.campers)==null?void 0:n.vehicleCard},K=s=>{if(s.length>25&&s.length<64)return s.slice(0,25)+"...";let n=s.split(".");return s.length>=64?n[0].length>=64?n[0].slice(0,64)+"...":n[0]+".":s},W=s=>s.charAt(0).toUpperCase()+s.slice(1),T=s=>{const n=s.split(/(?=[A-Z])/),a=[];return n.map((i,l)=>{l===0?a.push(i.charAt(0).toUpperCase()+i.slice(1)):a.push(i.charAt(0).toLowerCase()+i.slice(1))}),a.join(" ")},F=s=>s.split(/(?<number>\d+(?:\.\d+)?)(?:\/(?<unit>[a-z]{5}))?|(?<separator>\/)/g).join(" "),Ye=({isOpen:s,onClose:n,children:a})=>{const i=R(),l=c=>{c.currentTarget===c.target&&(i(M(new Date().toISOString())),n())},d=document.querySelector("body");return x.useEffect(()=>{const c=u=>{u.keyCode===27&&(i(M(new Date().toISOString())),n())};return s&&(document.addEventListener("keydown",c),d.classList.add("disable-scroll")),()=>{document.removeEventListener("keydown",c),d.classList.remove("disable-scroll")}},[s,n]),s?e.jsx(e.Fragment,{children:s&&e.jsx(Ce,{id:"modal-win",onClick:l,children:e.jsxs($e,{children:[e.jsx(ye,{onClick:n,children:e.jsx(we,{children:e.jsx("use",{href:`${r}#icon-x`})})}),e.jsx(Se,{children:a})]})})}):null},Xe=s=>{function n(){return e.jsx(b,{className:"rating-star",children:e.jsx("use",{href:`${r}#icon-star`})})}function a(){return e.jsx(b,{className:"unrating-star",children:e.jsx("use",{href:`${r}#icon-star`})})}function i(l){return e.jsx(Z.Rating,{style:{width:"96px",height:"16px"},value:l,ratedIcon:e.jsx(n,{}),unratedIcon:e.jsx(a,{}),readonly:!0})}return i(s)},O=s=>{L(`${s} is required.`)},es=()=>{L("Email is not valid. Example: testmail@gmail.com")},ss=s=>{const{dateBook:n,vehicle:{name:a,form:i}}=s;L(`You have booked ${a} form ${i} for this date ${Ue(new Date(n),"dd/MM/yyyy")} .`)};function rs(){const s=w(Me),[n,a]=x.useState(""),[i,l]=x.useState(""),[d,c]=x.useState(""),u=w(ee),v=R();function C(o){return/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,6}|[0-9]{1,3})(\]?)$/.test(o)}const f=o=>{o.preventDefault();const{name:j,_id:$,form:g}=u;if(n.trim()===""){O("Name");return}if(i.trim()===""){O("Email");return}else if(!C(i)){es();return}v(pe({name:n,email:i,textArea:d,dateBook:s,vehicle:{name:j,_id:$,form:T(g)}})),v(M(new Date().toISOString())),ss({dateBook:s,vehicle:{name:j,form:T(g)}}),a(""),l(""),c("")};return e.jsxs(Z.Card,{color:"transparent",shadow:!1,children:[e.jsx(Te,{children:"Book your campervan now"}),e.jsx(Le,{children:" Stay connected! We are always ready to help you. "}),e.jsxs("form",{onSubmit:o=>f(o),children:[e.jsxs("div",{children:[e.jsx(U,{placeholder:"Name",type:"text",onChange:o=>a(o.target.value),value:n}),e.jsx(U,{placeholder:"Email",type:"email",onChange:o=>l(o.target.value),value:i}),e.jsx(qe,{}),e.jsx("div",{children:e.jsx(ze,{placeholder:"Comment",type:"textarea",onChange:o=>c(o.target.value),value:d})})]}),e.jsx(He,{type:"submit",onClick:f,children:"Send"})]})]})}const ns=()=>{const s=w(ee),[n,a]=x.useState(!0),[i,l]=x.useState(!1),{name:d,price:c,rating:u,location:v,adults:C,children:f,engine:o,transmission:j}=s,{form:$,length:g,width:D,height:p,tank:E,consumption:V,description:k,details:A,gallery:I,reviews:q}=s;console.log("card",s);const{CD:re,TV:ne,airConditioner:ie,bathroom:ts,beds:B,freezer:te,gas:ae,hob:z,kitchen:ce,microwave:le,radio:oe,shower:de,toilet:he,water:xe}=A;return e.jsxs(Fe,{children:[e.jsxs("h2",{style:{marginBottom:"8px"},children:[" ",d," "]}),e.jsxs(P,{className:"fullData",children:[e.jsx(b,{children:e.jsx("use",{href:`${r}#icon-star`})}),e.jsxs(_,{children:[u,"(",q.length," Reviews)"]}),e.jsx(G,{children:e.jsx("use",{href:`${r}#icon-location`})}),v]}),e.jsxs("h2",{style:{marginBottom:"24px"},children:[" €",c.toFixed(2)]}),e.jsx(De,{children:I.map((S,N)=>e.jsx(J,{children:e.jsx(Q,{src:S,alt:d})},N))}),e.jsx(Y,{className:"fullData",children:k}),e.jsxs(ke,{children:[e.jsx(H,{className:n?"active-features":"",type:"button",style:{marginRight:"40px"},onClick:()=>{a(!0),l(!1)},children:"Features"}),e.jsx(H,{className:i?"active-reviews":"",type:"button",onClick:()=>{l(!0),a(!1)},children:"Reviews"})]}),e.jsxs(Be,{children:[e.jsxs(be,{children:[n&&e.jsxs(e.Fragment,{children:[e.jsxs(X,{className:"fullData",children:[C&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-users`})}),C," adults",f>0&&`, ${f} children`]}),j&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-line-pd`})}),W(j)]}),ie>=1&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-wind`})}),"AC"]}),o&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-gasoline`})}),W(o)]}),ce>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-gastronomy`})}),"Kitchen"]}),B>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-bed`})}),B>1?`${B} Beds`:`${B} Bed`]}),re>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-cd`})}),"CD"]}),oe>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-radio`})}),"Radio"]}),z>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-hob`})}),z,"Hob"]}),he>=1&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-toilet-paper`})}),"Toilet"]}),de>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-shower`})}),"Shower"]}),te>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-freezer`})}),"Freezer"]}),ae&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-gas`})}),"Gas"]}),xe&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-water`})}),"Water"]}),le>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-microwave`})}),"Microwave"]}),ne>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-tv`})}),"TV"]})]}),e.jsx(We,{children:"Vehicle details"}),e.jsxs("ul",{children:[e.jsxs(y,{children:[e.jsx("p",{children:"Form"})," ",T($)]}),e.jsxs(y,{children:[e.jsx("p",{children:"Length"})," ",F(g)]}),e.jsxs(y,{children:[e.jsx("p",{children:"Width"})," ",F(D)]}),e.jsxs(y,{children:[e.jsx("p",{children:"Height"})," ",F(p)]}),e.jsxs(y,{children:[e.jsx("p",{children:"Tank"})," ",F(E)]}),e.jsxs(y,{children:[e.jsx("p",{children:"Consumption"})," ",F(V)]})]})]}),i&&e.jsx("ul",{children:q.map(({reviewer_name:S,reviewer_rating:N,comment:je},ue)=>e.jsxs(Re,{children:[e.jsxs(Ee,{children:[e.jsx(Ve,{children:S.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx(Ae,{children:S}),Xe(N)]})]}),e.jsx(Ie,{children:je})]},`${S+ue}`))})]}),e.jsx(Ne,{children:rs()})]})]})},se=s=>s.favorites.items,is=({camp:s})=>{const[n,a]=x.useState(!1),[i,l]=x.useState(!1),d=R(),{_id:c,name:u,price:v,rating:C,location:f,adults:o,children:j}=s,{engine:$,transmission:g,description:D,details:p,gallery:E,reviews:V}=s,k=w(se).find(I=>I._id===c);x.useEffect(()=>{i&&d(me(c))},[i]);const A=()=>d(k?fe(c):ge(c));return e.jsxs(e.Fragment,{children:[e.jsxs(Ke,{children:[e.jsx(J,{children:e.jsx(Q,{className:n?"contain-card":"",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),src:E[0],alt:u})}),e.jsxs(Oe,{children:[e.jsxs(Ze,{children:[e.jsxs("h2",{children:[" ",K(u)," "]}),e.jsxs(Pe,{children:[e.jsxs("h2",{children:[" €",v.toFixed(2)]}),e.jsx(_e,{onClick:A,children:e.jsx(Ge,{className:k?"active":"",children:e.jsx("use",{href:`${r}#icon-heart`})})})]})]}),e.jsxs(P,{children:[e.jsx(b,{children:e.jsx("use",{href:`${r}#icon-star`})}),e.jsxs(_,{children:[C,"(",V.length," Reviews)"]}),e.jsx(G,{children:e.jsx("use",{href:`${r}#icon-location`})}),f]}),e.jsx(Y,{children:K(D)}),e.jsxs(X,{children:[o&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-users`})}),o," adults",j>0&&`, ${j} children`]}),g&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-line-pd`})}),W(g)]}),$&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-gasoline`})}),W($)]}),p.kitchen>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-gastronomy`})}),"Kitchen"]}),p.beds>=1&&e.jsxs(t,{children:[e.jsx(h,{children:e.jsx("use",{href:`${r}#icon-bed`})}),p.beds>1?`${p.beds} Beds`:`${p.beds} Bed`]}),p.airConditioner>=1&&e.jsxs(t,{children:[e.jsx(m,{children:e.jsx("use",{href:`${r}#icon-wind`})}),"AC"]})]}),e.jsx(Je,{type:"button",onClick:()=>l(!0),children:"Show more"})]})]},c),i&&e.jsx(Ye,{isOpen:i,onClose:()=>l(!1),children:e.jsx(ns,{onClose:()=>l(!1)})})]})},ls=({favorites:s,catalog:n})=>{const a=R();x.useEffect(()=>{n&&a(ve())},[a]);const i=w(se),l=w(Qe),d=s?i:n?l:[];return e.jsx("ul",{style:{maxWidth:680},children:d.length>0&&d.map(c=>e.jsx(is,{camp:c},c._id))})};export{ls as C,T as a,Qe as s};
